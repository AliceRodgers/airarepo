<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aira Beauty - Your Beauty Destination</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #fff;
        }

        /* Navbar Styles */
        .navbar {
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 15px 0;
        }

        .navbar-brand img {
            height: 40px;
        }

        .nav-link {
            color: #333;
            font-weight: 500;
            margin: 0 15px;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: #ff4b6e;
        }

        .cart-icon-container {
            position: relative;
            display: inline-block;
        }

        .cart-counter {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #ff4b6e;
            color: white;
            border-radius: 50%;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            min-width: 1.5rem;
            text-align: center;
            font-weight: 600;
        }

        .btn-add-cart {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            padding: 10px 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn-add-cart:hover {
            background: linear-gradient(135deg, #fad0c4 0%, #ff9a9e 100%);
            transform: translateY(-2px);
        }

        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1050;
        }

        .toast {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1rem;
            margin-bottom: 0.5rem;
            display: none;
        }

        .toast.show {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            padding: 120px 0;
            margin-bottom: 80px;
            color: white;
            text-align: center;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        /* Category Cards */
        .category-card {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 30px;
            transition: transform 0.3s ease;
        }

        .category-card:hover {
            transform: translateY(-10px);
        }

        .category-card img {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .category-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            padding: 20px;
            color: white;
        }

        /* Brand Section */
        .brands {
            background-color: #f8f9fa;
            padding: 80px 0;
        }

        .brand-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .brand-card:hover {
            transform: translateY(-5px);
        }

        .brand-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        /* Newsletter Section */
        .newsletter {
            background: linear-gradient(135deg, #fad0c4 0%, #ff9a9e 100%);
            padding: 80px 0;
            color: white;
            text-align: center;
        }

        .newsletter-form {
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-input {
            border-radius: 30px;
            padding: 15px 25px;
            border: none;
            width: 100%;
            margin-bottom: 20px;
        }

        /* Footer */
        .footer {
            background: #fff;
            padding: 60px 0 30px;
            color: #333;
        }

        .social-icons a {
            color: #333;
            margin: 0 10px;
            font-size: 1.5rem;
            transition: color 0.3s ease;
        }

        .social-icons a:hover {
            color: #ff4b6e;
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            border: none;
            border-radius: 30px;
            padding: 12px 30px;
            font-weight: 600;
            transition: transform 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            background: linear-gradient(135deg, #fad0c4 0%, #ff9a9e 100%);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="{% url 'home' %}">
                <img src="static/images/logo1.png" alt="Aira Beauty">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'skincare' %}">Skincare</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'makeup' %}">Makeup</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'hair' %}">Hair</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'fragrance' %}">Fragrance</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'BathnBody' %}">Bath & Body</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'cart' %}">
                            <div class="cart-icon-container">
                                <i class="fas fa-shopping-cart"></i>
                                <span class="cart-counter" id="cartCounter">0</span>
                            </div>
                        </a>
                    </li>
                    {% if user.is_authenticated %}
                    <li class="nav-item">
                        <span class="nav-link">Hi, {{ user.username }}!</span>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'logout' %}">Logout</a>
                    </li>
                        {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'login' %}">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'register' %}">Sign Up</a>
                    </li>
                        {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Welcome to Aira Beauty</h1>
            <p>Your destination for premium beauty products and expert skincare solutions</p>
            <a href="#categories" class="btn btn-light btn-lg">Explore Collections</a>
        </div>
    </section>

    <!-- Categories Section -->
    <section id="categories" class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Shop by Category</h2>
            <div class="row">
                <div class="col-md-4">
                    <a href="{% url 'skincare' %}" class="text-decoration-none">
                        <div class="category-card">
                            <img src="static/images2/Skincare.jpg" alt="Skincare">
                            <div class="category-overlay">
                                <h3>Skincare</h3>
                                <p>Discover your perfect routine</p>
                      </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4">
                    <a href="{% url 'makeup' %}" class="text-decoration-none">
                        <div class="category-card">
                            <img src="static/images2/Makeup2.jpeg" alt="Makeup">
                            <div class="category-overlay">
                                <h3>Makeup</h3>
                                <p>Express your beauty</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4">
                    <a href="{% url 'hair' %}" class="text-decoration-none">
                        <div class="category-card">
                            <img src="static/images2/Haircare.jpeg" alt="Hair Care">
                            <div class="category-overlay">
                                <h3>Hair Care</h3>
                                <p>Love your locks</p>
                      </div>
                      </div>
                    </a>
                </div>
                <div class="col-md-6">
                    <a href="{% url 'BathnBody' %}" class="text-decoration-none">
                        <div class="category-card">
                            <img src="static/images2/bathbody.jpeg" alt="Bath & Body">
                            <div class="category-overlay">
                                <h3>Bath & Body</h3>
                                <p>Indulge in luxury</p>
                    </div>
                  </div>
                    </a>
                </div>
                <div class="col-md-6">
                    <a href="{% url 'fragrance' %}" class="text-decoration-none">
                        <div class="category-card">
                            <img src="static/images2/perfume.png" alt="Fragrance">
                            <div class="category-overlay">
                                <h3>Fragrance</h3>
                                <p>Find your signature scent</p>
              </div>
            </div>
                    </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Brands Section -->
    <section class="brands">
        <div class="container">
            <h2 class="text-center mb-5">Featured Brands</h2>
            <div class="row">
                <div class="col-md-3 mb-4">
                    <a href="{% url 'brand' 'ordinary' %}" class="text-decoration-none">
                        <div class="brand-card">
                            <img src="static/images/COMPARISON_Thebest10productsbyTheOrdinary.jpeg" alt="The Ordinary">
                            <h4>The Ordinary</h4>
                        </div>
                    </a>
                </div>
                <div class="col-md-3 mb-4">
                    <a href="{% url 'brand' 'fenty' %}" class="text-decoration-none">
                        <div class="brand-card">
                            <img src="static/images/fenty.jpeg" alt="Fenty Beauty">
                            <h4>Fenty Beauty</h4>
              </div>
                    </a>
              </div>
                <div class="col-md-3 mb-4">
                    <a href="{% url 'brand' 'charlotte' %}" class="text-decoration-none">
                        <div class="brand-card">
                            <img src="static/images/CharlotteTilburyTheBeautyversePaletteBringsPastelstoHoliday2023-MusingsofaMuse.jpeg" alt="Charlotte Tilbury">
                            <h4>Charlotte Tilbury</h4>
              </div>
                    </a>
              </div>
                <div class="col-md-3 mb-4">
                    <a href="{% url 'brand' 'esteelauder' %}" class="text-decoration-none">
                        <div class="brand-card">
                            <img src="static/images/AdvancedNightRepairSerum_EsteLauder.jpeg" alt="Estée Lauder">
                            <h4>Estée Lauder</h4>
              </div>
                    </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter">
        <div class="container">
            <h2 class="mb-4">Stay Updated with Aira Beauty</h2>
            <p class="mb-5">Subscribe to receive exclusive offers, beauty tips, and new product alerts!</p>
            <div class="newsletter-form">
                <form action="#" method="POST">
                    <input type="email" class="newsletter-input" placeholder="Enter your email address" required>
                    <button type="submit" class="btn btn-light btn-lg">Subscribe</button>
                </form>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5>About Aira Beauty</h5>
                    <p>Your premier destination for premium beauty products, skincare essentials, and expert beauty advice.</p>
              </div>
                <div class="col-md-4 mb-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="{% url 'skincare' %}" class="text-decoration-none text-dark">Skincare</a></li>
                        <li><a href="{% url 'makeup' %}" class="text-decoration-none text-dark">Makeup</a></li>
                        <li><a href="{% url 'hair' %}" class="text-decoration-none text-dark">Hair Care</a></li>
                        <li><a href="{% url 'fragrance' %}" class="text-decoration-none text-dark">Fragrance</a></li>
                        <li><a href="{% url 'BathnBody' %}" class="text-decoration-none text-dark">Bath & Body</a></li>
                    </ul>
            </div>
                <div class="col-md-4 mb-4">
                    <h5>Connect With Us</h5>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-pinterest"></i></a>
          </div>
        </div>
            </div>
            <hr>
            <div class="text-center">
                <p class="mb-0">© 2024 Aira Beauty. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Toast Container for Notifications -->
    <div class="toast-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Initialize cart counter from session storage or set to 0
        document.addEventListener('DOMContentLoaded', function() {
            const cartCount = sessionStorage.getItem('cartCount') || 0;
            document.getElementById('cartCounter').textContent = cartCount;
        });

        function showToast(message, type = 'success') {
            const toastContainer = document.querySelector('.toast-container');
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `
                <div class="d-flex align-items-center">
                    <div class="me-2">
                        <i class="fas fa-${type === 'success' ? 'check-circle text-success' : 'exclamation-circle text-danger'}"></i>
                    </div>
                    <div>${message}</div>
      </div>
            `;
            toastContainer.appendChild(toast);
            
            // Trigger reflow to enable animation
            toast.offsetHeight;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function addToCart(productId) {
            fetch(`/add-to-cart/${productId}/`, {
                method: 'POST',
                headers: {
                    'X-CSRFToken': getCookie('csrftoken'),
                    'Content-Type': 'application/json'
                },
                credentials: 'same-origin'
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Update cart counter
                    const counter = document.getElementById('cartCounter');
                    const currentCount = parseInt(counter.textContent);
                    counter.textContent = currentCount + 1;
                    
                    // Store cart count in session storage
                    sessionStorage.setItem('cartCount', currentCount + 1);
                    
                    // Show success message
                    showToast('Item added to cart successfully!');
                } else {
                    showToast(data.message || 'Error adding item to cart', 'error');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                showToast('Error adding item to cart', 'error');
            });
        }

        // Function to get CSRF token from cookies
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
    </script>
</body>
</html>